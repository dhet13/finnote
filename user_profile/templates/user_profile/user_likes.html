{% extends 'base.html' %}

{% block title %}프로필{% endblock %}

{% block feed %}
{% load static %}
{% load humanize %}
<div style="width: 100%; margin: 0 auto; background-color: #fff; border-radius: 16px; box-shadow: 0 0 10px rgba(0,0,0,0.1); overflow: hidden; border: 1px solid #ebeef0; box-sizing: border-box;">
    <!-- ... (profile header section remains the same) ... -->
    <div style="height: 160px; position: relative; background-color: #cfd9de;">
        {% if user_to_view.background_picture %}
            <img src="{{ user_to_view.background_picture.url }}" alt="" style="width: 100%; height: 100%; object-fit: cover; display: block;">
        {% else %}
            <div style="height: 100%; background-color: #cfd9de;"></div>
        {% endif %}
    </div>

    <div style="padding: 16px; display: flex; flex-direction: column; align-items: center;">
        <div style="margin-top: -80px; margin-left: -360px; width: 130px; height: 130px; border-radius: 50%; background-color: #fff; border: 4px solid #fff; z-index: 2; position: relative; overflow: hidden;">
            {% if user_to_view.profile_picture %}
                <img src="{{ user_to_view.profile_picture.url }}" alt="" style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;">
            {% else %}
                <div style="background-color: #e1e8ed; border: 4px solid #e1e8ed; width: 100%; height: 100%; border-radius: 50%;"></div>
            {% endif %}
        </div>
        
        <div style="display: flex; justify-content: flex-end; margin-top: -40px; margin-bottom: 16px; z-index: 1; position: relative; padding-right: 16px; width: 100%;">
            {% if request.user.my_ID == user_to_view.my_ID %}
                <a href="{% url 'user_profile:edit_profile' %}" style="background-color: #fff; color: #1da1f2; border: 1px solid #1da1f2; padding: 8px 16px; border-radius: 9999px; text-decoration: none; font-weight: bold; font-size: 14px; white-space: nowrap; transition: background-color 0.2s, color 0.2s;">프로필 수정</a>
            {% endif %}
        </div>
        
        <div style="margin-top: 20px; width: 100%;">
            <h2 style="margin: 0; font-size: 20px; font-weight: bold; color: #14171a;">{{ user_to_view.nickname }}</h2>
            <p style="color: #657786; font-size: 15px; margin-top: 4px;">@{{ user_to_view.my_ID }}</p>
            
            <div style="display: flex; align-items: center; color: #657786; font-size: 15px; margin-top: 8px; width: 100%;">
                <p style="margin: 0; margin-right: 16px;"><span style="margin-right: 4px;">🗓️</span><span style="margin-right: 4px;">가입일: {{ user_to_view.created_at|date:"Y년 n월 j일" }}</span></p>
            </div>
        </div>
    </div>

    <div style="display: flex; justify-content: space-around; border-bottom: 1px solid #ebeef0; padding: 12px 0; margin-top: 16px;">
        <a href="{% url 'user_profile:profile' my_ID=request.user.my_ID %}" style="text-decoration: none; color: #657786; font-weight: bold; padding: 8px 16px; border-radius: 9999px; transition: background-color 0.2s;">자산 현황</a>
        <a href="{% url 'user_profile:user_likes' %}" style="text-decoration: none; color: #657786; font-weight: bold; padding: 8px 16px; border-radius: 9999px; transition: background-color 0.2s;">좋아요</a>
        <a href="#" style="text-decoration: none; color: #657786; font-weight: bold; padding: 8px 16px; border-radius: 9999px; transition: background-color 0.2s;">북마크</a>
        <a href="#" style="text-decoration: none; color: #657786; font-weight: bold; padding: 8px 16px; border-radius: 9999px; transition: background-color 0.2s;">게시물</a>
    </div>
</div>

{% endblock %}