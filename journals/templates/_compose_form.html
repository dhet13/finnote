{% load static %}
<div class="compose-card">
    <form id="stock-journal-form" novalidate>
        {% csrf_token %}

        <div class="form-section">
            <h3 class="section-title">์ฃผ์ ์ํ</h3>
            <div class="input-group-icon">
                <input type="search" id="stock-search" class="form-control" placeholder="์ข๋ชฉ ์ฝ๋๋ฅผ ์๋ฅํ๊ณ ๋๋ณด๊ธฐ๋ฅผ ๋๋ฅด๊ฑฐ๋ Enter๋ฅผ ์น์ธ์.">
                <span id="journal-search-icon" style="position:absolute; right: 12px; top: 50%; transform: translateY(-50%); cursor: pointer;">๐</span>
            </div>
            <div id="stock-search-results" class="search-results-container"></div>
            <div id="selected-stock-card" class="hidden"></div>
        </div>

        <div class="form-section price-grid">
            <div class="input-group">
                <label for="target-price">๋ชฉํ ๊ฐ๊ฒฉ</label>
                <input type="number" id="target-price" name="target_price" class="form-control">
            </div>
            <div class="input-group">
                <label for="target-percent">%</label>
                <input type="number" id="target-percent" class="form-control">
            </div>
            <div class="input-group">
                <label for="stop-price">์์ ๊ฐ๊ฒฉ</label>
                <input type="number" id="stop-price" name="stop_price" class="form-control">
            </div>
            <div class="input-group">
                <label for="stop-percent">%</label>
                <input type="number" id="stop-percent" class="form-control">
            </div>
        </div>

        <div class="form-section trade-side-selector">
            <button type="button" class="btn btn-buy" data-side="BUY">๋งค์</button>
            <button type="button" class="btn btn-sell" data-side="SELL">๋งค๋</button>
        </div>

        <div id="holding-summary-card" class="form-section holdings-grid hidden">
            <!-- JS will inject content here -->
        </div>

        <div class="form-section trade-input-grid">
            <div class="input-group">
                <label for="trade-price">๋งค์ ๊ธ์ก(์)</label>
                <div class="stepper-input">
                    <input type="number" id="trade-price" class="form-control">
                    <button type="button" class="stepper-btn stepper-down">-</button>
                    <button type="button" class="stepper-btn stepper-up">+</button>
                </div>
            </div>
            <div class="input-group">
                <label for="trade-quantity">๋งค์ ์๋</label>
                <div class="stepper-input">
                    <input type="number" id="trade-quantity" class="form-control">
                    <button type="button" class="stepper-btn stepper-down">-</button>
                    <button type="button" class="stepper-btn stepper-up">+</button>
                </div>
            </div>
            <div class="input-group">
                <label for="trade-date">๋งค์ ๋์ง</label>
                <input type="date" id="trade-date" class="form-control">
            </div>
        </div>

        

        <div class="form-section">
            <label for="trade-reason">๋งค๋งค์ด์๋ฅผ ์์ด์ฃผ์ธ์</label>
            <textarea id="trade-reason" name="content" class="form-control" rows="5" placeholder="๋งค๋งค์ ๋ํ ์์ธํ ์ด์๋ ์๋ต์ ๊ธฐ๋กํด์ฃผ์ธ์."></textarea>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-primary btn-submit">ํ์ธ</button>
            <button type="button" id="complete-journal-btn" class="btn btn-secondary hidden">๋งค๋งค ์ข๋ฃ</button>
        </div>
    </form>
</div>

<!--
NOTE: The script tag was moved back to the parent templates (_compose_modal.html and compose_page_clean.html) 
to follow best practices. This file should only contain the form structure.
-->
